"use strict";(self.webpackChunkeasycredit_react_app=self.webpackChunkeasycredit_react_app||[]).push([[991],{6363:function(e,n,r){r.r(n),r.d(n,{default:function(){return O}});var t=r(29439),a=r(61889),o=r(20890),i=r(70478),s=r(72791),c=r(37658),d=r(39230),l=r(74165),u=r(15861),m=r(56960),p=r(74569),h=r.n(p),g=function(){var e=(0,u.Z)((0,l.Z)().mark((function e(n,r){var t,a,o;return(0,l.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,t={headers:{Accept:"application/json","Content-Type":"application/json",authorization:"Token "+n}},n){e.next=7;break}return m.Am.error("You are not authorized to view this page"),localStorage.removeItem("user"),a=setTimeout((function(){window.location.href="/login"}),500),e.abrupt("return",(function(){return clearTimeout(a)}));case 7:return e.next=9,h().get("https://sandbox.credithive.co.uk/webservices/v2/prospect_lead/?page=1&s=10&recents=true&search="+r,t);case 9:if(!(o=e.sent).status){e.next=12;break}return e.abrupt("return",o.data);case 12:e.next=18;break;case 14:return e.prev=14,e.t0=e.catch(0),e.t0.response?400===e.t0.response.status?m.Am.error("Internal Server error"):401===e.t0.response.status?m.Am.error("You're not Unauthorized"):404===e.t0.response.status?m.Am.error("URL not found"):e.t0.response.status>=500&&m.Am.error("Something went wrong. Please contact the administrator."):e.t0.request?m.Am.error("No response received from the server. Please check your internet connection."):m.Am.error("An unexpected error occurred. Please try again later."),e.abrupt("return",null);case 18:case"end":return e.stop()}}),e,null,[[0,14]])})));return function(n,r){return e.apply(this,arguments)}}(),f=g,x=r(57621),v=r(63366),b=r(87462),Z=r(28182),y=r(94419),j=r(31402),w=r(66934),C=r(75878),k=r(21217);function S(e){return(0,k.Z)("MuiCardMedia",e)}(0,C.Z)("MuiCardMedia",["root","media","img"]);var P=r(80184),A=["children","className","component","image","src","style"],M=(0,w.ZP)("div",{name:"MuiCardMedia",slot:"Root",overridesResolver:function(e,n){var r=e.ownerState,t=r.isMediaComponent,a=r.isImageComponent;return[n.root,t&&n.media,a&&n.img]}})((function(e){var n=e.ownerState;return(0,b.Z)({display:"block",backgroundSize:"cover",backgroundRepeat:"no-repeat",backgroundPosition:"center"},n.isMediaComponent&&{width:"100%"},n.isImageComponent&&{objectFit:"cover"})})),N=["video","audio","picture","iframe","img"],_=["picture","img"],I=s.forwardRef((function(e,n){var r=(0,j.Z)({props:e,name:"MuiCardMedia"}),t=r.children,a=r.className,o=r.component,i=void 0===o?"div":o,s=r.image,c=r.src,d=r.style,l=(0,v.Z)(r,A),u=-1!==N.indexOf(i),m=!u&&s?(0,b.Z)({backgroundImage:'url("'.concat(s,'")')},d):d,p=(0,b.Z)({},r,{component:i,isMediaComponent:u,isImageComponent:-1!==_.indexOf(i)}),h=function(e){var n=e.classes,r={root:["root",e.isMediaComponent&&"media",e.isImageComponent&&"img"]};return(0,y.Z)(r,S,n)}(p);return(0,P.jsx)(M,(0,b.Z)({className:(0,Z.default)(h.root,a),as:i,role:!u&&s?"img":void 0,ref:n,style:m,ownerState:p,src:u?s||c:void 0},l,{children:t}))})),R=r(39504),D=r(72363),z=r(36151),B=r.p+"static/media/blank-profile-picture.4ec56cfe1acfee3327a7.png",T=(0,i.Z)((function(e){return{card:{display:"flex",alignItems:"center",borderRadius:16,boxShadow:"0px 4px 8px rgba(0, 0, 0.3, 0.5)",margin:e.spacing(.5),marginTop:e.spacing(1),marginLeft:e.spacing(2),marginRight:e.spacing(2),width:"100%",transition:"box-shadow 0.2s ease-in-out","&:hover":{transform:"scale(1.02)",boxShadow:"0 4px 8px rgba(0, 0, 0, 0.1)"}},leadPictureContainer:{flex:1,display:"flex",justifyContent:"center",marginLeft:e.spacing(2)},leadPicture:{width:160,height:160,objectFit:"cover",borderRadius:"50%"},contentContainer:{flex:2,display:"flex",flexDirection:"column",padding:e.spacing(.5)},cardActions:{justifyContent:"flex-end"},viewDetailsButton:{color:e.palette.primary.main,"&:hover":{backgroundColor:"transparent",textDecoration:"underline"}}}})),L=function(e){var n=T(),r=e.user;console.log(r);return(0,P.jsxs)(x.Z,{className:n.card,children:[(0,P.jsx)("div",{className:n.leadPictureContainer,children:(0,P.jsx)(I,{component:"img",className:n.leadPicture,src:r.photo?r.photo:B,alt:"Your Image"})}),(0,P.jsxs)("div",{className:n.contentContainer,children:[(0,P.jsxs)(R.Z,{children:[(0,P.jsx)(o.Z,{gutterBottom:!0,variant:"h4",children:r.full_name}),(0,P.jsxs)(o.Z,{mt:1,variant:"body2",color:"text.primary",children:["Gender: ",r.gender]}),(0,P.jsxs)(o.Z,{variant:"body2",color:"text.primary",children:["Phone: ",r.full_phones]}),(0,P.jsxs)(o.Z,{variant:"body2",color:"text.primary",children:["Email: ",r.email]}),(0,P.jsxs)(o.Z,{mt:2,variant:"body2",color:"text.primary",children:["Monthly Income: ",r.monthly_income," Savings: ",r.monthly_saving," Dependents: ",r.total_dependents," Working Details: ",r.working_details]})]}),(0,P.jsx)(D.Z,{className:n.cardActions,children:(0,P.jsx)(z.Z,{className:n.viewDetailsButton,size:"small",children:"View Details"})})]})]})},E=r(96849),Y=r(33721),F=r(73042),G=(0,i.Z)((function(e){return{container:{padding:e.spacing(3),backgroundColor:"#f7f7f7",borderRadius:8,boxShadow:"0px 4px 6px rgba(0, 0, 0, 0.1)"},heading:{fontSize:"1.5rem",fontWeight:"bold",textAlign:"center",marginBottom:e.spacing(2)},searchContainer:{display:"flex",justifyContent:"flex-end",marginBottom:e.spacing(2)}}}));function O(){var e=(0,d.$G)().t,n=G(),r=(0,s.useState)([]),i=(0,t.Z)(r,2),l=i[0],u=i[1],p=(0,s.useState)(!0),h=(0,t.Z)(p,2),g=h[0],x=h[1],v=(0,s.useState)(""),b=(0,t.Z)(v,2),Z=b[0],y=b[1],j=(0,E.E)().user,w=j?j.token:null;(0,s.useEffect)((function(){C(Z)}),[]);var C=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";try{x(!0),f(w,e).then((function(e){var n=e.data.result;u(n)})).catch((function(e){m.Am.error("Something went wrong, please check your internet connection.")})).finally((function(){x(!1)}))}catch(n){m.Am.error("Something went wrong, please check your internet connection."),x(!1)}},k=(0,F.p)((function(e){var n=e;y(n),C(n)}),500);return(0,P.jsx)("div",{className:n.container,children:(0,P.jsxs)(a.ZP,{container:!0,alignItems:"center",spacing:2,children:[(0,P.jsx)(a.ZP,{item:!0,xs:12,md:2,children:(0,P.jsx)(o.Z,{variant:"h2",className:n.heading,children:e("recent_Leads")})}),(0,P.jsx)(a.ZP,{item:!0,xs:12,md:10,children:(0,P.jsx)("div",{className:n.searchContainer,children:(0,P.jsx)(c.Z,{handleSearch:function(e){var n=e.target.value;k(n)}})})}),g?(0,P.jsx)(a.ZP,{item:!0,xs:12,height:"100vh",children:(0,P.jsx)(Y.Z,{})}):l&&l.length>0&&l.map((function(e){return(0,P.jsx)(a.ZP,{item:!0,xs:12,md:6,children:(0,P.jsx)(L,{user:e})},e.id)}))]})})}}}]);
//# sourceMappingURL=991.c94d910e.chunk.js.map